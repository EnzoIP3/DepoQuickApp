import{c as I,d as S,e as U}from"./chunk-MQS2OHBC.js";import{Aa as q,C as m,Da as V,K as g,Ma as B,T as w,V as c,Xb as k,Yb as O,aa as b,ba as C,ca as _,cb as G,ga as h,ha as d,n as p,q as a,ra as R,s as v,sa as y,va as T,x as l,y as u,zb as D}from"./chunk-2GDBKQSI.js";var E=(t,e)=>({logo:t,ownerName:e});function N(t,e){if(t&1&&_(0,"app-avatar",5),t&2){let s=e.row;c("image",s.logo)}}function A(t,e){if(t&1&&y(0),t&2){let s=e.row;T(" ",s.ownerName," ",s.ownerSurname,`
`)}}var P=class t{columns=[];businesses=[];filterableColumns=[];pagination={};loading=!1;rowClick=new m;pageChange=new m;filterChange=new m;onRowClick(e){this.rowClick.emit(e)}onPageChange(e){this.pageChange.emit(e)}onFilterChange(e){this.filterChange.emit(e)}static \u0275fac=function(s){return new(s||t)};static \u0275cmp=v({type:t,selectors:[["app-base-businesses-table"]],inputs:{columns:"columns",businesses:"businesses",filterableColumns:"filterableColumns",pagination:"pagination",loading:"loading"},outputs:{rowClick:"rowClick",pageChange:"pageChange",filterChange:"filterChange"},standalone:!0,features:[q],decls:7,vars:12,consts:[["logoTemplate",""],["ownerNameTemplate",""],[1,"mt-2"],[3,"rowClick","filter","columns","data","loading","clickableRows","customTemplates","filterableColumns"],[3,"pageChange","currentPage","totalPages","pageSize"],["defaultIcon","pi pi-image","shape","square","size","xlarge",3,"image"]],template:function(s,i){if(s&1){let n=h();b(0,"div",2)(1,"app-table",3),d("rowClick",function(o){return l(n),u(i.onRowClick(o))})("filter",function(o){return l(n),u(i.onFilterChange(o))}),C(),b(2,"app-paginator",4),d("pageChange",function(o){return l(n),u(i.onPageChange(o))}),C()(),w(3,N,1,1,"ng-template",null,0,B)(5,A,1,2,"ng-template",null,1,B)}if(s&2){let n=R(4),r=R(6);g(),c("columns",i.columns)("data",i.businesses)("loading",i.loading)("clickableRows",!0)("customTemplates",V(9,E,n,r))("filterableColumns",i.filterableColumns),g(),c("currentPage",i.pagination==null?null:i.pagination.page)("totalPages",i.pagination==null?null:i.pagination.totalPages)("pageSize",i.pagination==null?null:i.pagination.pageSize)}},dependencies:[I,S,U],encapsulation:2})};var f=class t extends k{constructor(e,s){super(O.apiUrl,"businesses",e,s)}getBusinesses(e){return this.get({queries:e})}postBusiness(e){return this.post(e)}updateValidator(e,s){return this.patch(s,`${e}/validator`)}getDevices(e,s){return this.get({queries:s,extraResource:`${e}/devices`})}static \u0275fac=function(s){return new(s||t)(a(G),a(D))};static \u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})};var F=class t{constructor(e){this._repository=e}getBusinesses(e){return this._repository.getBusinesses(e)}postBusiness(e){return this._repository.postBusiness(e)}updateValidator(e,s){return this._repository.updateValidator(e,s)}getDevices(e,s){return this._repository.getDevices(e,s)}static \u0275fac=function(s){return new(s||t)(a(f))};static \u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})};export{P as a,F as b};
